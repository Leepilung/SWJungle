# 검색 알고리즘

데이터의 집합에서 원하는 값을 가진 원소를 찾아내는 방법이다.

종류로는 크게

- 선형 검색
- 이진 검색
- 해시법

총 3가지 유형이 있다.

각 검색의 단계에서 세부적으로 단점등을 보완한 방법들은 각 파트에서 알아보자.

---

## 선형 검색

배열에서 검색하는 방법 중 가장 기본적인 알고리즘이다.

단순한 for문이나 while문으로 index값을 갱신해나가며 원하는 값을 찾는 방식이다.

직선 모양(선형)으로 배열에서 검색하는 모양새를 가지며 말그대로 원하는 키값을 가진 원소를 찾을 때까지 맨 앞부터 스캔하여 순서대로 검색하는 알고리즘이다.

> 선형 검색의 종료 조건

1. 검색할 값을 찾지 못하고 배열의 맨 끝을 지나는 경우
2. 검색할 값과 같은 원소를 찾은 경우


### 보초법

선형 검색은 반복할 때마다 2가지 종료 조건을 체크한다. 단순한 판단 과정이지만 반복 시행횟수가 늘수록 검사하는 비용을 무시할 수 없기 때문에 이를 개선한 방법이 바로 `보초법`이다.

> 차이점

그냥 선형 검색의 경우 다음과 같은 로직을 지닌다.

```py
# 선형 검색의 로직
def seq_search(a,key):
    i = 0

    while True:
        if i == len(a):
            return -1
        if a[i] == key:
            return i
        i += 1
```

그러나 보초법의 경우에는 종료조건 1이 불필요하다.

```py
# 보초법의 로직
def seq_search(seq,key):
    a = copy.deepcopy(seq)
    a.append(key)

    i = 0
    while True:
        if a[i] == key:
            break
        i +=1
    return -1 if i == len(seq) else i 
```
while문에 의한 반복이 종료되면 원소가 배열의 원래 데이터의 보초인지 판단해야 한다.

만약 i의 값이 len(seq)의 값과 같으면 찾은 것이 보초이므로 검색에 실패한 것을 나타내는 -1을 반환하고, 아니라면 i를 반환한다.

이렇듯 보초법을 사용하면 if문의 판단 횟수는 절반으로 줄지만 return문을 수행하기 위한 횟수는 1번 늘어난다.

# 이진 검색

이진 검색을 사용하려면 배열의 데이터가 오름차순으로 정렬 되어 있어야 한다는 제약 사항이 있지만 선형 검색보다 빠르게 검색할 수 있다.

방법은 다음과 같다. 0~10까지의 숫자가 나열된 a라는 배열이 있다고 하면 pl, pc, pr과 같은 배열의 각 지점을 임의로 만들고 찾는값과 비교해 나가는 방식이다.

검색에 필요한 평균 횟수는 logn 이다. 실패한 경우는 log(n+1)번이며, 성공할 경우에는 log(n-1)번이다.

> 동작 방식
- a[pc] < key : 중앙[pc]에서 오른쪽으로 한 칸 이동한 a[pc+1]을 새로운 왼쪽 끝 a[pl]로 지정하고, 검색범위를 반으로 좁힌다.
- a[pc] > key : 중앙[pc]에서 왼쪽으로 한 칸 이동한 a[pc-1]을 새로운 오른쪽 끝 a[pr]로 지정하고, 검색범위를 반으로 좁힌다.

> 종료 조건
1. a[pc]와 key가 일치하는 경우
2. 검색 범위가 더 이상 없는 경우

> 로직

```py
# 동작 코드

def bin_search(a : Sequence, key :Any) -> int:
    # a라는 배열에서 key와 일치하는 원소를 이진 검색
    pl = 0                  # 검색 범위 맨 앞 원소의 인덱스
    pr = len(a) -1          # 검색 범위 맨 끝 원소의 인덱스

    while True:
        pc = (pl + pr) // 2 # 중앙 원소의 인덱스
        if a[pc] == key:    # 검색 성공 조건
            return pc
        elif a[pc] < key:
            pl = pc + 1     # 검색 범위를 우측 절반으로 좁힘
        else:
            pr = pc -1      # 검색 범위를 좌측 절반으로 좁힘
        if pl > pr:
            break

    return -1               # 검색 실패
```

